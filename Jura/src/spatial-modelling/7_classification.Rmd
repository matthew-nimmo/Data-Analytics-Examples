---
format: html-eval-false
---

# Classification of estimation uncertainty

Because Mineral Resource classification for the Jura copper deposit is limited by the confidence in the estimates for copper, conditional simulation was used to estimate copper and assess estimation risk. Conditional Gaussian simulation was run 100 times using the same data and same estimation parameters and variogram model as used for kriging.

Confidence in the resource estimate was assessed using the probability of abundance being greater than +-15% of mean abundance over one quarter production (Measured) and one year production (Indicated) at 90% confidence.

> Outline assumption of annual production rate to derive panel size for a quarter of a years production.

The conditional simulation 20 m by 20 m panel estimates were aggregated up to 60 m by 60 m and 120 m by 120 m panels. The probability of abundance being greater than +-15% of copper over one quarter production (Measured) and one year production (Indicated) is shown in Figure \@ref(fig:sim-conf).

```{r}
M__SIM <- cache_data("./data/M/M__jura_sim.rds", function() {
  x <- B__AH[, c("X","Y","cu_pct")]
  x <- x[complete.cases(x), ]
  coordinates(x) <- ~ X + Y
  z <- as.data.frame(coordinates(M__ROCK))
  names(z) <- c("X","Y")
  coordinates(z) <- ~ X + Y

  set.seed(9)
  y <- krige(cu_pct ~ 1, x, newdata=z, beta=0, nsim=100,
             model=vario[["cu_pct"]], maxdist=3, nmin=1, nmax=10, omax=5)
  y <- SpatialPixelsDataFrame(y@coords, y@data)
  y <- brick(y)
  y <- mask(y, M__ROCK)
  y$rock <- M__ROCK

  return(y)
}, out.csv=FALSE)
```

Results of the conditional simulation of copper are presented in Figure \@ref(fig:sim-conf).

> Discuss impact of conditional simulation results to resource classification.

```{r sim-conf, fig.width=9, fig.height=4, fig.cap="Conditional Simulation results for Copper %."}
par(mfcol=c(1,2), mar=c(5.1,4.1,1.1,5.1), oma=c(0,0,2,0), bty="n")

zz <- aggregate(M__SIM, fact=3, fun=mean)
mn <- mean(zz)
zz <- abs(zz - mn) / mn
zz <- sum(zz > 0.15) / length(names(zz))
zz <- extract(zz, coordinates(M__ROCK))
zz <- data.frame(coordinates(M__ROCK), v=zz)
gridded(zz) <- ~ x + y
zz <- raster(zz)

plot(zz, asp=1, frame.plot=FALSE, col=viridis(5), breaks=c(0,0.1,0.15,0.2,0.3,1),
     main="Quarterly Production", xlab="UTM X (m)", ylab="UTM Y (m)")
points(B__AH$X, B__AH$Y, col="black", pch="+", cex=0.8)
mtext("Block Size: 60m x 60m", 1, 4, cex=0.7, adj=-0.25, xpd=TRUE)

zz <- aggregate(M__SIM, fact=6, fun=mean)
mn <- mean(zz)
zz <- abs(zz - mn) / mn
zz <- sum(zz > 0.15) / length(names(zz))
zz <- extract(zz, coordinates(M__ROCK))
zz <- data.frame(coordinates(M__ROCK), v=zz)
gridded(zz) <- ~ x + y
zz <- raster(zz)

plot(zz, asp=1, frame.plot=FALSE, col=viridis(5), breaks=c(0,0.1,0.15,0.2,0.3,1),
     main="Yearly Production", xlab="UTM X (m)", ylab="UTM Y (m)")
points(B__AH$X, B__AH$Y, col="black", pch="+", cex=0.8)

mtext("Probability of Abundance > +-15% of Mean Abundance", 3, 0.5, outer=TRUE,
      cex=par("cex.main"), font=par("font.main"))
mtext("Block Size: 120m x 120m", 1, 4, cex=0.7, adj=-0.25, xpd=TRUE)
```

The Mineral Resource was classified on the basis of the quality and uncertainty of the sample data and sample spacing in accordance with JORC 2012 definitions of Inferred, Indicated and Measured Mineral Resource.

> Describe classification rules for Measured, Indicated and Inferred Mineral Resource.

Mineral Resource classification boundaries delineating areas within the Jura copper deposit where sampling is sufficient for the resource to be categorized as either Indicated or Measured Mineral Resource were interpreted. These boundaries were used for reporting of the Mineral Resource by category, as per the JORC 2012 code.
